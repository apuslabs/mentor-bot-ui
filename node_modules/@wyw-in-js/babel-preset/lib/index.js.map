{"version":3,"file":"index.js","names":["_transform","require","isEnabled","caller","name","evaluate","wywInJS","babel","options","plugins","babelTransformPlugin"],"sources":["../src/index.ts"],"sourcesContent":["import type { ConfigAPI, TransformCaller } from '@babel/core';\nimport { babelTransformPlugin } from '@wyw-in-js/transform';\nimport type { PluginOptions } from '@wyw-in-js/transform';\n\nfunction isEnabled(caller?: TransformCaller & { evaluate?: true }) {\n  return caller?.name !== 'wyw-in-js' || caller.evaluate === true;\n}\n\nexport default function wywInJS(babel: ConfigAPI, options: PluginOptions) {\n  if (!babel.caller(isEnabled)) {\n    return {};\n  }\n\n  return {\n    plugins: [[babelTransformPlugin, options]],\n  };\n}\n"],"mappings":";;;;;;AACA,IAAAA,UAAA,GAAAC,OAAA;AAGA,SAASC,SAASA,CAACC,MAA8C,EAAE;EACjE,OAAO,CAAAA,MAAM,aAANA,MAAM,uBAANA,MAAM,CAAEC,IAAI,MAAK,WAAW,IAAID,MAAM,CAACE,QAAQ,KAAK,IAAI;AACjE;AAEe,SAASC,OAAOA,CAACC,KAAgB,EAAEC,OAAsB,EAAE;EACxE,IAAI,CAACD,KAAK,CAACJ,MAAM,CAACD,SAAS,CAAC,EAAE;IAC5B,OAAO,CAAC,CAAC;EACX;EAEA,OAAO;IACLO,OAAO,EAAE,CAAC,CAACC,+BAAoB,EAAEF,OAAO,CAAC;EAC3C,CAAC;AACH"}