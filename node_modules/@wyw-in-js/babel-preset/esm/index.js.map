{"version":3,"file":"index.js","names":["babelTransformPlugin","isEnabled","caller","name","evaluate","wywInJS","babel","options","plugins"],"sources":["../src/index.ts"],"sourcesContent":["import type { ConfigAPI, TransformCaller } from '@babel/core';\nimport { babelTransformPlugin } from '@wyw-in-js/transform';\nimport type { PluginOptions } from '@wyw-in-js/transform';\n\nfunction isEnabled(caller?: TransformCaller & { evaluate?: true }) {\n  return caller?.name !== 'wyw-in-js' || caller.evaluate === true;\n}\n\nexport default function wywInJS(babel: ConfigAPI, options: PluginOptions) {\n  if (!babel.caller(isEnabled)) {\n    return {};\n  }\n\n  return {\n    plugins: [[babelTransformPlugin, options]],\n  };\n}\n"],"mappings":"AACA,SAASA,oBAAoB,QAAQ,sBAAsB;AAG3D,SAASC,SAASA,CAACC,MAA8C,EAAE;EACjE,OAAOA,MAAM,EAAEC,IAAI,KAAK,WAAW,IAAID,MAAM,CAACE,QAAQ,KAAK,IAAI;AACjE;AAEA,eAAe,SAASC,OAAOA,CAACC,KAAgB,EAAEC,OAAsB,EAAE;EACxE,IAAI,CAACD,KAAK,CAACJ,MAAM,CAACD,SAAS,CAAC,EAAE;IAC5B,OAAO,CAAC,CAAC;EACX;EAEA,OAAO;IACLO,OAAO,EAAE,CAAC,CAACR,oBAAoB,EAAEO,OAAO,CAAC;EAC3C,CAAC;AACH"}