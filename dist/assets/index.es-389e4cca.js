var w=Object.defineProperty,d=(r,e,a)=>e in r?w(r,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):r[e]=a,i=(r,e,a)=>(d(r,typeof e!="symbol"?e+"":e,a),a);async function t(r,e=[]){return window!=null&&window.arweaveWallet?await window.arweaveWallet[r](...e):new Promise((a,n)=>window.addEventListener("arweaveWalletLoaded",async()=>{try{a(await window.arweaveWallet[r](...e))}catch(s){n(s)}}))}class l{constructor(){i(this,"id","browserwallet"),i(this,"name","Browser Wallet"),i(this,"description","Any browser wallet with an injected API"),i(this,"theme","121,212,131"),i(this,"logo","KKiSlNKc5K59MXzUPz5qjtCLsl6_ckjAOg9MyAzaUs0")}async isAvailable(){return typeof window>"u"||!window?(console.error(`[Arweave Wallet Kit] "${this.id}" strategy is unavailable. Window is undefined`),!1):window.arweaveWallet?!0:new Promise(e=>{const a=()=>e(!0);window.addEventListener("arweaveWalletLoaded",a),setTimeout(()=>{window.removeEventListener("arweaveWalletLoaded",a),window.arweaveWallet||console.error(`[Arweave Wallet Kit] "${this.id}" strategy is unavailable. window.arweaveWallet is undefined`),e(!!window.arweaveWallet)},7e3)})}async sync(){}async connect(e,a,n){return await t("connect",[e,a,n])}async disconnect(){return await t("disconnect")}async getActiveAddress(){return await t("getActiveAddress")}async getAllAddresses(){return await t("getAllAddresses")}async getPermissions(){return await t("getPermissions")}async getWalletNames(){return await t("getWalletNames")}async sign(e,a){const n=await t("sign",[e,a]);return e.setSignature({id:n.id,owner:n.owner,reward:n.reward,tags:n.tags,signature:n.signature}),e}async signDataItem(e){return await t("signDataItem",[e])}async encrypt(e,a){return await t("encrypt",[e,a])}async decrypt(e,a){return await t("decrypt",[e,a])}async getArweaveConfig(){return await t("getArweaveConfig")}async signature(e,a){return await t("signature",[e,a])}async getActivePublicKey(){return await t("getActivePublicKey")}async dispatch(e){return await t("dispatch",[e])}async addToken(e){throw new Error("Not implemented: "+e)}addAddressEvent(e){const a=n=>e(n.detail.address);return addEventListener("walletSwitch",a),a}removeAddressEvent(e){removeEventListener("walletSwitch",e)}}export{l as default};
